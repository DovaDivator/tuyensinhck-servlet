import{u as y,a as b,r as m,j as s,L as S,s as g,H as v}from"./index-qv2f6qUe.js";import{I as c,a as f,b as x}from"./InputField-Bs1ecEZR.js";import{B as L}from"./MainWarpper-Dh6EhIZe.js";import{L as I}from"./LogoGuest-DAj0gcma.js";import{c as N}from"./checkValidSubmitUtils-Bid7X6wl.js";import{a as T}from"./alerlSimpleInput-yPCRcWkj.js";import{a as w}from"./alertBasic-BlckFawB.js";import{G as V}from"./GuestBackground-ClwcKQlH.js";import{C as B}from"./Card-C1yEMw4c.js";/* empty css                   */import"./Blur-Dyo204vu.js";const C=async t=>{t.preventDefault();const n=new c({required:!0,matchType:["email"]}),a=await T({title:"Nhập email để khôi phục mật khẩu",placeholder:"Nhập email của bạn...",valid:n});console.log(a)},D=()=>{const{isLoading:t,setIsLoading:n}=y(),{login:a}=b(),[e,u]=m.useState({username:"",password:""}),[p,r]=m.useState({username:"",password:""}),[h,i]=m.useState(!1),d={username:new x({restrict:!0}),password:new x({restrict:!0})},o={username:new c({required:!0,matchType:["email","phone"]}),password:new c({minlength:6,required:!0,matchType:["password"]})},j=async l=>{if(l.preventDefault(),i(!0),!await N(e,o,r)){g("error","","Vui lòng kiểm tra lại thông tin đăng nhập!"),i(!1);return}n(!0);try{await a(String(e.username),String(e.password))?g("success","","Đăng nhập thành công!"):w({icon:"error",title:"Đăng nhập thất bại!",message:"Tên đăng nhập hoặc mật khẩu không đúng!"})}catch{w({icon:"error",title:"Lỗi hệ thống!",message:"Không thể kết nối máy chủ hoặc đã xảy ra lỗi bất ngờ."})}finally{n(!1),i(!1)}};return s.jsxs("section",{className:"login-form-container",children:[s.jsx(I,{}),s.jsx("h1",{children:"Đăng nhập"}),s.jsxs("form",{onSubmit:j,id:"login-form",noValidate:!0,children:[s.jsx(f,{type:"text",name:"username",id:"username",placeholder:"Email hoặc SĐT",value:e.username,maxLength:255,formData:e,setFormData:u,options:d.username,errors:p,setErrors:r,valids:o.username,isSubmiting:h}),s.jsx(f,{type:"password",name:"password",id:"password",placeholder:"Mật khẩu",value:e.password,maxLength:20,formData:e,setFormData:u,options:d.password,errors:p,setErrors:r,valids:o.password,isSubmiting:h}),s.jsx(L,{type:"submit",text:t?"Đang xác nhận...":"Đăng nhập",disabled:t})]}),s.jsx(S,{to:"/dang-ky",className:"register-link",children:"Đăng ký tài khoản sinh viên ở đây!"}),s.jsx("a",{href:"",className:"forgot-link",onClick:l=>C(l),children:"Quên mật khẩu?"})]})},U=()=>s.jsxs("div",{children:[s.jsx(v,{children:s.jsx("title",{children:"Đăng nhập - Web tuyển sinh"})}),s.jsx(V,{delay:1e3,children:s.jsxs(B,{className:"login-container",children:[s.jsx("figure",{className:"login-image"}),s.jsx(D,{})]})})]});export{U as default};
