import{r as b,j as n}from"./index-qv2f6qUe.js";/* empty css                   */const N=()=>{const[t,e]=b.useState(!1);return{showPassword:t,togglePassword:()=>e(r=>!r)}},P=()=>n.jsx("i",{className:"fa-regular fa-eye"}),$=()=>n.jsx("i",{className:"fa-regular fa-eye-slash"}),k=({showPassword:t,togglePassword:e,type:s})=>s==="password"&&n.jsx("span",{className:"toggle-password",onClick:e,children:t?n.jsx(P,{}):n.jsx($,{})});class l{constructor({stringCase:e="",restrict:s=!1}={}){this.stringCase=e,this.restrict=s}}const A=(t,e,s=new l({}))=>{const{name:r,value:a}=t.target,i=B(a,s);e(o=>({...o,[r]:i}))},B=(t,e=new l({}))=>{let s=t;return e.stringCase!==""&&(s=O(s,e.stringCase)),e.restrict&&(s=s.replace(/[^\x00-\x7F]/g,"")),s},O=(t,e)=>{switch(e){case"upper":return t.toUpperCase();case"lower":return t.toLowerCase();default:return t}},q={email:t=>/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(t),phone:t=>/^0[0-9]{9}$/.test(t),password:t=>/^[\x20-\x7E]+$/.test(t),cccd:t=>/^\d{12}$/.test(t)},E=(t,e,s=new f({}),r={})=>s.required&&e.trim()===""?{[t]:"Trường này là bắt buộc."}:s.minlength&&e.length<s.minlength&&e.trim()!==""?{[t]:`Trường này phải có ít nhất ${s.minlength} ký tự.`}:s.match&&r[s.match]!==e?{[t]:"Thông tin không khớp."}:Array.isArray(s.matchType)&&s.matchType.length>0&&e.length>0&&S(e,s.matchType)?{[t]:"Thông tin không hợp lệ."}:{[t]:""},S=(t,e)=>{for(const s of e){const r=q[s];if(typeof r!="function"){console.error(`function ${s} not exist`);continue}return!r(t)}return!1};class f{constructor({minlength:e=0,required:s=!1,match:r="",matchType:a=[]}={}){this.minlength=e,this.required=s,this.match=r,this.matchType=a}validate(e,s,r){return E(e,s,this,r)}}const H=({type:t="text",name:e,id:s,placeholder:r="",value:a,maxLength:i,formData:o,setFormData:u,options:x=new l({}),errors:g={},setErrors:h=void 0,valids:d=new f({}),isSubmiting:w=!1,disabled:m=!1})=>{const{showPassword:p,togglePassword:y}=N(),T=t==="password"&&p?"text":t,j=c=>{if(U(u,o,e),w||!h)return;const C=d.validate(c.target.name,c.target.value,o);h(I=>({...I,...C}))};return n.jsxs("div",{className:`input-wrapper ${a?"has-value":""}`,children:[r!==""&&n.jsx("span",{className:"input-label",children:r}),n.jsxs("label",{className:"input-field-wrapper",tabIndex:1,children:[n.jsx("input",{type:T,name:e,id:s,lang:"en",placeholder:" ",value:a,onChange:c=>A(c,u,x),onBlur:j,maxLength:i,className:"input-field",disabled:m,autoComplete:t!=="password"?e:"off"}),n.jsx(k,{showPassword:p,togglePassword:y,type:t})]}),g[e]&&n.jsx("span",{className:"error-message",children:g[e]})]})},U=(t,e,s)=>{t(r=>({...r,[s]:(e[s]||"").trim()}))};export{f as I,H as a,l as b,E as v};
